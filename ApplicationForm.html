<!DOCTYPE html>
<html lang="ar">
<head>
<script src="xlsx.full.min.js"></script>
<script src="chart.js"></script>


  <meta charset="UTF-8">
  <title>Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</title>
  <style>



    body {
      font-family: Arial, sans-serif;
      direction: rtl;
      background-color: #f0f0f0;
      padding: 20px;
    }
    
    input, select, button {
      padding: 8px;
      margin: 5px 0;
      width: 100%;
      box-sizing: border-box;
    }
    .container {
      max-width: 1100px;
      margin: auto;
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    #resultScreen, #traineesTable {
      display: none;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }
    th, td {
      padding: 8px;
      border: 1px solid #ccc;
      text-align: right;
    }
    th {
      background-color: #eee;
    }
  </style>
</head>
<body>

   <!-- Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø£Ùˆ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <form id="container">
    <!-- Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ -->
  </form>

  <script>
    // Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ Ù…ÙƒØ§Ù† ÙÙŠ Ø§Ù„ØµÙØ­Ø©ØŒ Ø£Ø¯Ø®Ù„ ÙˆØ¶Ø¹ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©
    document.addEventListener("click", () => {
      const elem = document.documentElement; // Ø£Ùˆ document.getElementById("myForm")
      if (document.fullscreenElement) return; // Ù„Ø§ ØªÙØ¹Ù„ Ø´ÙŠØ¡ Ø¥Ø°Ø§ ÙƒÙ†Ø§ Ø¨Ø§Ù„ÙØ¹Ù„ ÙÙŠ Ù…Ù„Ø¡ Ø§Ù„Ø´Ø§Ø´Ø©

      if (elem.requestFullscreen) {
        elem.requestFullscreen();
      } else if (elem.webkitRequestFullscreen) { /* Safari */
        elem.webkitRequestFullscreen();
      } else if (elem.msRequestFullscreen) { /* IE11 */
        elem.msRequestFullscreen();
      }
    });
  </script>


  <div class="container">
   <style>
  h2 {
    text-align: center;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    margin: 5px 0;
    color: #004080;
  }

  h2:nth-child(4) {
    font-size: 1.8em;      /* Ø£ÙƒØ¨Ø± Ø­Ø¬Ù… Ù„Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø±Ø§Ø¨Ø¹ */
    font-weight: bold;
    margin-top: 5px;
    color: #007acc;
  }
  
</style>



<div style="
  position: relative;
  text-align: center;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin-top: 10px;
  margin-bottom: 30px;
">

  <!-- Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„ØªØµÙ…ÙŠÙ… ÙÙŠ Ø£Ù‚ØµÙ‰ Ø§Ù„ÙŠØ³Ø§Ø± -->
  <div style="
    position: absolute;
    top: 10;
    left: 25px;
    font-size: 14px;
    font-weight: 800;
    background: linear-gradient(90deg, #ff00cc, #3333ff, #ff0000);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    user-select: none;
  ">

  
    ğŸ¨     Designed by Ahmed Amer

   
  <!-- Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠØ© ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø§Ù„ÙŠØ³Ø§Ø± -->
  <img src="logo.jpg" alt="Ø§Ù„Ø´Ø¹Ø§Ø±" style="
    top: 80;
    width: 80px;
    height: 80px;
    border-radius: 50%;
    object-fit: cover;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  ">


  </div>

  <!-- Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
  <h2>ÙˆØ²Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø§Ø¦ÙŠØ© ÙˆØ§Ù„Ø±Ù‰</h2>
  <h2>Ø§Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ù…ØµØ±ÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª Ø§Ù„ØµØ±Ù</h2>
  <h2>Ù…Ø±ÙƒØ² ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØµØ±Ù Ø¨Ø·Ù†Ø·Ø§</h2>
  <h2>Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¯Ø§Ø±Ø© Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</h2>
  <h2>ğŸ”¹ Trainees Database Management Form </h2>
</div>

<button id="toggleFormBtn" onclick="toggleForm()">ğŸ“‹ Ø¹Ø±Ø¶ / Ø¥Ø®ÙØ§Ø¡ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</button>


<style>
  h2:last-of-type {
    margin-bottom: 8px; /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø£Ø³ÙÙ„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø£Ø®ÙŠØ± */
  }

  #toggleFormBtn {
    margin-top: -20px; /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø¹Ù„ÙˆÙŠØ© Ù„Ù„Ø²Ø± */
    font-size: 20px;
    font-weight: bold;
    padding: 14px 28px;
    background-color: #004085;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    transition: background-color 0.3s ease;
  }

  #toggleFormBtn:hover {
    background-color: #002752;
  }
</style>



<div id="passwordModal" style="
  display: none;
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.6);
  z-index: 9999;
  justify-content: center;
  align-items: center;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  /* Ù„Ø§ ØªØ¶Ù display:flex Ù‡Ù†Ø§ */
">

  <div style="
    background: #ffffff;
    padding: 30px 40px;
    border-radius: 14px;
    box-shadow: 0 16px 40px rgba(0, 0, 0, 0.25);
    text-align: center;
    width: 360px;
    max-width: 90%;
  ">
    <h3 style="
      margin-bottom: 22px;
      font-weight: 700;
      font-size: 24px;
      color: #222222;
      letter-spacing: 0.03em;
    ">
      Password Confirmation
    </h3>
    <input
      type="password"
      id="passwordInput"
      placeholder="Enter your password"
      style="
        width: 100%;
        padding: 14px 16px;
        font-size: 16px;
        border: 1.8px solid #ddd;
        border-radius: 10px;
        box-sizing: border-box;
        transition: border-color 0.3s ease;
        outline-offset: 2px;
      "
      onfocus="this.style.borderColor='#4a90e2'"
      onblur="this.style.borderColor='#ddd'"
    />
    <div style="margin-top: 28px; display: flex; justify-content: center; gap: 16px;">
      <button
        onclick="confirmPassword()"
        style="
          flex: 1;
          padding: 14px 0;
          font-size: 16px;
          font-weight: 600;
          background-color: #2979ff;
          color: white;
          border: none;
          border-radius: 10px;
          cursor: pointer;
          box-shadow: 0 6px 14px rgba(41, 121, 255, 0.45);
          transition: background-color 0.3s ease, box-shadow 0.3s ease;
        "
        onmouseover="this.style.backgroundColor='#1565c0'; this.style.boxShadow='0 8px 20px rgba(21, 101, 192, 0.6)'"
        onmouseout="this.style.backgroundColor='#2979ff'; this.style.boxShadow='0 6px 14px rgba(41, 121, 255, 0.45)'"
      >
        Confirm
      </button>
      <button
        onclick="closePasswordModal()"
        style="
          flex: 1;
          padding: 14px 0;
          font-size: 16px;
          font-weight: 600;
          background-color: #f0f0f0;
          color: #555555;
          border: none;
          border-radius: 10px;
          cursor: pointer;
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
          transition: background-color 0.3s ease;
        "
        onmouseover="this.style.backgroundColor='#d6d6d6'"
        onmouseout="this.style.backgroundColor='#f0f0f0'"
      >
        Cancel
      </button>
    </div>
  </div>
</div>


<style>
  .db-button {
    font-size: 18px;     /* Ø­Ø¬Ù… Ø§Ù„Ø®Ø· ÙÙ‚Ø· */
    font-weight: bold;   /* ØªØ®Ø§Ù†Ø© Ø§Ù„Ø®Ø· */
    background-color: #b3cffc;
    color: #003366;
    border: 1px solid #000000;
    border-radius: 8px;
    padding: 8px 16px;
    cursor: pointer;
    transition: 0.2s ease-in-out;
  }

  .db-button:hover {
    background-color: #cce0ff;
  }
</style>

<!-- Ø§Ù„Ø£Ø²Ø±Ø§Ø± -->
<button class="db-button" onclick="backupIndexedDB()">ğŸ”„ Backup Database</button>
<button class="db-button" onclick="document.getElementById('restoreFile').click()">â™»ï¸ Restore Database</button>
<input type="file" id="restoreFile" style="display: none;" onchange="restoreIndexedDB(event)" accept=".json" />


<div class="btn-container">
  <button class="btn btn-submit" type="button" onclick="submitForm()">
    <svg viewBox="0 0 24 24" >
      <path d="M5 13l4 4L19 7"/>
    </svg>
    Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  </button>

  

  <button class="btn btn-clear" type="button" onclick="clearIndexedDB()">
    <svg viewBox="0 0 24 24">
      <path d="M18 6L6 18M6 6l12 12"/>
    </svg>
    Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
  </button>

  <button class="btn btn-export" onclick="exportToExcel()">
    <svg viewBox="0 0 24 24">
      <path d="M12 3v12m0 0l4-4m-4 4l-4-4M4 17h16"/>
    </svg>
    ØªØµØ¯ÙŠØ± Ø¥Ù„Ù‰ Excel
  </button>

  <button class="btn btn-show" type="button" onclick="toggleAllTrainees()">
  <svg viewBox="0 0 24 24">
    <circle cx="12" cy="12" r="3"/>
    <path d="M2 12a10 10 0 0 1 20 0 10 10 0 0 1-20 0z"/>
  </svg>ğŸ–¨ï¸ 
Ø·Ø¨Ø§Ø¹Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« </button>


<div style="text-align:center; margin: 15px 0;">
  <input 
    type="text" 
    id="searchInput" 
    placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¯ÙˆØ±Ø©ØŒ Ø§Ù„ØªØ§Ø±ÙŠØ®ØŒ ..." 
    style="
      width: 320px; 
      padding: 10px 15px; 
      font-size: 20px; 
      border: 1.5px solid #007BFF; 
      border-radius: 5px 0 0 5px; 
      outline: none;
      transition: border-color 0.3s ease;
    "
    onfocus="this.style.borderColor='#0056b3'"
    onblur="this.style.borderColor='#007BFF'"
  >
  <button 
    onclick="searchTrainees()" 
    style="
      padding: 11px 20px; 
      font-size: 16px; 
      background-color: #007BFF; 
      color: white; 
      border: none; 
      border-radius: 0 5px 5px 0; 
      cursor: pointer;
      box-shadow: 0 3px 6px rgba(0,0,0,0.16);
      transition: background-color 0.3s ease;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
    "
    onmouseover="this.style.backgroundColor='#0056b3'"
    onmouseout="this.style.backgroundColor='#007BFF'"
  >
    ğŸ” Ø¨Ø­Ø«
  </button>

  </div>



<form id="registrationForm" style="display: none;">
  
  <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø¹Ù†Ø§ØµØ± ÙƒÙ…Ø§ Ù‡ÙŠ -->
      <label>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…:</label>
<input type="text" id="name" required>

<label>ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ:</label>
<input type="tel" id="phone" required>


      
<label for="email">ğŸ›ï¸   Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:</label>
<input list="departments" id="email" name="email" placeholder="Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ§Ø¨Ø¹ Ù„Ù‡Ø§">

<datalist id="departments">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ ÙƒÙØ± Ø§Ù„Ø´ÙŠØ®"> <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ ÙƒÙØ± Ø§Ù„Ø´ÙŠØ®">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ Ø§Ù„Ø¯Ù„ØªØ§">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ù‚Ù„ÙŠÙˆØ¨ÙŠÙ‡">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ÙˆØ³Ø· Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ø±Ù‚ Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ÙˆØ³Ø· Ø§Ù„Ø¯Ù„ØªØ§">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ Ø§Ù„Ø¯Ù„ØªØ§">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ø±Ù‚ Ø§Ù„Ø¯Ù„ØªØ§">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø§Ù„Ø¨Ø­ÙŠØ±Ø©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø¨Ø­ÙŠØ±Ø©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¯Ù…ÙŠØ§Ø·">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø³ÙŠÙ†Ø§Ø¡">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø³ÙŠÙ†Ø§Ø¡">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ Ø§Ù„Ø¨Ø­ÙŠØ±Ø©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ù†ÙˆØ¨Ø§Ø±ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¨Ø±Ø¬ Ø§Ù„Ø¹Ø±Ø¨">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ù…Ø±Ø³Ù‰ Ù…Ø·Ø±ÙˆØ­">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„ÙÙŠÙˆÙ…">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ù…Ù†ÙŠØ§">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„ÙˆØ§Ø­Ø§Øª">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø£Ø³ÙŠÙˆØ·">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø³ÙˆÙ‡Ø§Ø¬">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ù‚Ù†Ø§">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ø£Ù‚ØµØ±">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø£Ø³ÙˆØ§Ù†">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª Ø§Ù„ØµØ±Ù ÙÙŠ Ø´Ù…Ø§Ù„ Ø³ÙŠÙ†Ø§Ø¡">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª Ø§Ù„ØµØ±Ù ÙÙŠ Ø§Ù„ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª Ø§Ù„ØµØ±Ù ÙÙŠ ØªÙˆØ´ÙƒÙ‰">
  <option value="Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª Ø§Ù„ØµØ±Ù ÙÙŠ Ø´Ø±Ù‚ Ø§Ù„Ø¹ÙˆÙŠÙ†Ø§Øª">
</datalist>

<script>
  const departmentPhones = {
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ ÙƒÙØ± Ø§Ù„Ø´ÙŠØ®": "0473235349",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ Ø§Ù„Ø¯Ù„ØªØ§": "0473235349",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ù‚Ù„ÙŠÙˆØ¨ÙŠÙ‡": "0132233733",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ø±Ù‚ ÙƒÙØ± Ø§Ù„Ø´ÙŠØ®": "0473244007",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ÙˆØ³Ø· Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©": "0502244346",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©": "0502522541",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø¯Ù‚Ù‡Ù„ÙŠØ©": "0502605456",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©": "0486663770",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ø±Ù‚ Ø§Ù„Ù…Ù†ÙˆÙÙŠØ©": "0482175059",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ÙˆØ³Ø· Ø§Ù„Ø¯Ù„ØªØ§": "0403318220",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ Ø§Ù„Ø¯Ù„ØªØ§": "0403305747",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ø±Ù‚ Ø§Ù„Ø¯Ù„ØªØ§": "0402780923",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø§Ù„Ø¨Ø­ÙŠØ±Ø©": "0453552843",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø¨Ø­ÙŠØ±Ø©": "0453260287",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©": "0552372235",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø´Ø±Ù‚ÙŠØ©": "0552360291",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©": "0643318642",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø§Ù„Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„ÙŠØ©": "0643231520",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¨ÙˆØ±Ø³Ø¹ÙŠØ¯": "0663744312",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¯Ù…ÙŠØ§Ø·": "0572404232",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø´Ù…Ø§Ù„ Ø³ÙŠÙ†Ø§Ø¡": "0683351353",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¬Ù†ÙˆØ¨ Ø³ÙŠÙ†Ø§Ø¡": "0693661147",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù ØºØ±Ø¨ Ø§Ù„Ø¨Ø­ÙŠØ±Ø©": "0453464445",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ù†ÙˆØ¨Ø§Ø±ÙŠØ©": "0453170714",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ø¹Ø§Ù…Ø±ÙŠØ©": "034480373",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¨Ø±Ø¬ Ø§Ù„Ø¹Ø±Ø¨": "034780063",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ø¥Ø³ÙƒÙ†Ø¯Ø±ÙŠØ©": "034253095",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ù…Ø±Ø³Ù‰ Ù…Ø·Ø±ÙˆØ­": "0464931776",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø¨Ù†ÙŠ Ø³ÙˆÙŠÙ": "0822312610",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„ÙÙŠÙˆÙ…": "0842164223",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ù…Ù†ÙŠØ§": "0862366124",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„ÙˆØ§Ø­Ø§Øª": "0844822180",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø£Ø³ÙŠÙˆØ·": "0882336430",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø³ÙˆÙ‡Ø§Ø¬": "0934604283",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ù‚Ù†Ø§": "0965322605",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø§Ù„Ø£Ù‚ØµØ±": "0952372724",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØµØ±Ù Ø£Ø³ÙˆØ§Ù†": "0972310010",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª Ø§Ù„ØµØ±Ù ÙÙŠ Ø´Ù…Ø§Ù„ Ø³ÙŠÙ†Ø§Ø¡": "0683351422",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª Ø§Ù„ØµØ±Ù ÙÙŠ Ø§Ù„ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯": "0922522213",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª Ø§Ù„ØµØ±Ù ÙÙŠ ØªÙˆØ´ÙƒÙ‰": "0972245112",
    "Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù…Ø´Ø±ÙˆØ¹Ø§Øª Ø§Ù„ØµØ±Ù ÙÙŠ Ø´Ø±Ù‚ Ø§Ù„Ø¹ÙˆÙŠÙ†Ø§Øª": "0972600362"
  };

  document.getElementById("email").addEventListener("input", function () {
    const selectedDept = this.value;
    const phoneField = document.getElementById("phone");
    phoneField.value = departmentPhones[selectedDept] || "";
  });
</script>






<label for="qualification">ğŸ“ Ø§Ù„Ù…Ø¤Ù‡Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ:</label>
<input list="qualifications" id="qualification" name="qualification" placeholder="Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¤Ù‡Ù„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ">

<datalist id="qualifications">
  <option value="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ù‡Ù†Ø¯Ø³Ø© Ø²Ø±Ø§Ø¹ÙŠØ©">
  <option value="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ù‡Ù†Ø¯Ø³Ø© Ù…Ø¯Ù†ÙŠØ©">
  <option value="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ù‡Ù†Ø¯Ø³Ø© Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©">
  <option value="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¹Ù„ÙˆÙ… Ø²Ø±Ø§Ø¹ÙŠØ©">
  <option value="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø±ÙŠØ§Ø¶ÙŠØ§Øª ÙˆØ¥Ø­ØµØ§Ø¡">
  <option value="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù‚ØªØµØ§Ø¯ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„">
  <option value="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¨ÙŠØ¦Ø©">
  <option value="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ù†Ø¸Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª">
  <option value="Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ ØªØ¬Ø§Ø±Ø©">
  <option value="Ø¯Ø¨Ù„ÙˆÙ… ÙÙ†ÙŠ Ø²Ø±Ø§Ø¹ÙŠ">
  <option value="Ø¯Ø¨Ù„ÙˆÙ… ÙÙ†ÙŠ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§">
  <option value="Ø¯Ø¨Ù„ÙˆÙ… ÙÙ†ÙŠ ÙƒÙ‡Ø±Ø¨Ø§Ø¡">
  <option value="Ø¯Ø¨Ù„ÙˆÙ… ÙÙ†ÙŠ Ø´Ø¨ÙƒØ§Øª ÙˆØ±ÙŠ">
  <option value="Ø¯Ø¨Ù„ÙˆÙ…">
  <option value="Ø§Ù„Ù…Ø¹Ù‡Ø¯ Ø§Ù„ÙÙ†ÙŠ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ">
  <option value="Ù…Ø§Ø¬Ø³ØªÙŠØ± Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ§Ø±Ø¯ Ù…Ø§Ø¦ÙŠØ©">
  <option value="Ù…Ø§Ø¬Ø³ØªÙŠØ± Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø±ÙŠ ÙˆØ§Ù„ØµØ±Ù">
  <option value="Ø¯ÙƒØªÙˆØ±Ø§Ù‡ ÙÙŠ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ù…Ø§Ø¦ÙŠØ©">
  <option value="Ø«Ø§Ù†ÙˆÙŠØ© Ø¹Ø§Ù…Ø©">
  <option value="Ø´Ù‡Ø§Ø¯Ø© Ù…Ø¹Ù‡Ø¯ ÙÙ†ÙŠ Ù…ØªØ®ØµØµ">
</datalist>

      
      
<label for="job">ğŸ’¼ Ø§Ù„ÙˆØ¸ÙŠÙØ©:</label>
<input list="jobs" id="job" name="job" placeholder="Ø§Ø®ØªØ± Ø§Ù„ÙˆØ¸ÙŠÙØ©">

<datalist id="jobs">
  <option value="Ù…Ø¯ÙŠØ± Ø¹Ø§Ù…">
  <option value="ÙˆÙƒÙŠÙ„ Ø§Ù„ÙˆØ²Ø§Ø±Ø©">
  <option value="Ù…Ø¯ÙŠØ± Ø¥Ø¯Ø§Ø±Ø©">
  <option value="Ù…Ø¯ÙŠØ± Ù‚Ø³Ù…">
  <option value="Ø±Ø¦ÙŠØ³ Ù‚Ø³Ù…">
  <option value="Ù…Ø¯ÙŠØ± ÙØ±Ø¹">
  <option value="Ù…Ø¯ÙŠØ± Ù…ÙƒØªØ¨">
  <option value="ÙƒØ¨ÙŠØ± Ù…Ù‡Ù†Ø¯Ø³ÙŠÙ†">
  <option value="Ù…Ù‡Ù†Ø¯Ø³ Ø£ÙˆÙ„">
  <option value="Ù…Ù‡Ù†Ø¯Ø³">
  <option value="Ù…Ù‡Ù†Ø¯Ø³ Ù…ØªØ¯Ø±Ø¨">
  <option value="Ù…Ø¹Ø§ÙˆÙ† Ù…Ù‡Ù†Ø¯Ø³">
  <option value="Ù…Ø­Ø§Ø³Ø¨ Ø£ÙˆÙ„">
  <option value="Ù…Ø­Ø§Ø³Ø¨">
  <option value="Ù…Ø±Ø§Ø¬Ø¹ Ø¯Ø§Ø®Ù„ÙŠ">
  <option value="Ù…Ø¯Ù‚Ù‚ Ù…Ø§Ù„ÙŠ">
  <option value="Ù…Ø±Ø§Ø¬Ø¹ Ø­Ø³Ø§Ø¨Ø§Øª">
  <option value="Ø£Ø®ØµØ§Ø¦ÙŠ ØªÙ…ÙˆÙŠÙ„">
  <option value="Ø£Ø®ØµØ§Ø¦ÙŠ ØªÙ†Ù…ÙŠØ© Ø¥Ø¯Ø§Ø±ÙŠØ©">
  <option value="Ø£Ø®ØµØ§Ø¦ÙŠ ØªØ¯Ø±ÙŠØ¨">
  <option value="Ø£Ø®ØµØ§Ø¦ÙŠ Ø´Ø¤ÙˆÙ† Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©">
  <option value="Ø£Ù…ÙŠÙ† Ù…Ø³ØªÙˆØ¯Ø¹">
  <option value="ÙƒØ§ØªØ¨ Ø±Ø§Ø¨Ø¹">
  <option value="ÙƒØ§ØªØ¨ Ø«Ø§Ù„Ø«">
  <option value="ÙƒØ§ØªØ¨ Ø«Ø§Ù†ÙŠ">
  <option value="ÙƒØ§ØªØ¨ Ø£ÙˆÙ„">
  <option value="Ù…Ø³Ø§Ø¹Ø¯ Ø¥Ø¯Ø§Ø±ÙŠ">
  <option value="Ø³ÙƒØ±ØªÙŠØ± ØªÙ†ÙÙŠØ°ÙŠ">
  <option value="ÙÙ†ÙŠ ØªØ´ØºÙŠÙ„">
  <option value="ÙÙ†ÙŠ ØµÙŠØ§Ù†Ø©">
  <option value="Ø³Ø§Ø¦Ù‚">
  <option value="Ø­Ø§Ø±Ø³">
  <option value="Ø¹Ø§Ù…Ù„">
  <option value="Ù…Ù†Ø¯ÙˆØ¨">
</datalist>

      
      
<label for="course">ğŸ“˜ Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ±Ø©:</label>
      <input type="text" id="course">
      
      
<label for="duration">â± Ù…Ø¯Ø© Ø§Ù„Ø¯ÙˆØ±Ø©:</label>
      <input type="text" id="duration">
      
      
      
<label for="typeInput">ğŸ  Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©:</label>
<input list="residencyOptions" id="type" name="type" placeholder="Ø§Ø®ØªØ± Ø£Ùˆ Ø§ÙƒØªØ¨ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©">
<datalist id="residencyOptions">
  <option value="Ù…Ù‚ÙŠÙ…">
  <option value="ØºÙŠØ± Ù…Ù‚ÙŠÙ…">
</datalist>

      <div class="buttons">
        <style>


#registrationForm {
      font-size: 20px;
      font-weight: bold;
      direction: rtl;
    }

    #registrationForm label {
      display: block;
      margin-top: 10px;
    }

    #registrationForm input,
    #registrationForm select {
      font-size: 18px;
      font-weight: bold;
      padding: 8px;
      width: 100%;
      margin-bottom: 10px;
      box-sizing: border-box;
    }



  .btn-container {
    display: flex;
    justify-content: center; /* Ù…Ø±ÙƒØ² Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø£ÙÙ‚ÙŠØ§Ù‹ */
    gap: 16px;
    margin-top: 20px;
    flex-wrap: wrap; /* Ù„Ùˆ Ø§Ù„Ø´Ø§Ø´Ø© Ø¶ÙŠÙ‚Ø© ØªØªÙƒØ³Ø± Ø§Ù„Ø£Ø³Ø·Ø± */
  }

  .btn {
    font-size: 25px;
    padding: 12px 16px;
    border: 1px solid #555;
    border-radius: 6px;
    color: #222;
    background-color: #f8f9fa;
    cursor: pointer;
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    width: 130px;
    box-shadow: none;
    font-weight: 600;
    transition: background-color 0.3s ease, color 0.3s ease;
    user-select: none;
  }



  .btn:hover {
    background-color: #e2e6ea;
    color: #000;
  }
  .btn:active {
    background-color: #ced4da;
  }

  /* Ø£Ù„ÙˆØ§Ù† Ø±Ø³Ù…ÙŠØ© */
  .btn-submit {
    border-color: #1c3d5a;
    color: #1c3d5a;
    background-color: #dbe9f4;
  }
  .btn-submit:hover {
    background-color: #c4dbf2;
  }

  .btn-add {
    border-color: #375a7f;
    color: #375a7f;
    background-color: #d3e0eb;
  }
  .btn-add:hover {
    background-color: #bbd1e4;
  }

  .btn-clear {
    border-color: #8b1c1c;
    color: #8b1c1c;
    background-color: #f2dede;
  }
  .btn-clear:hover {
    background-color: #e4baba;
  }

  .btn-export {
    border-color: #3a5f7d;
    color: #3a5f7d;
    background-color: #d1dde6;
  }
  .btn-export:hover {
    background-color: #b9c9db;
  }

  .btn-show {
    border-color: #565656;
    color: #565656;
    background-color: #e9e9e9;
  }
  .btn-show:hover {
    background-color: #d6d6d6;
  }

  .btn svg {
    width: 28px;
    height: 28px;
    fill: currentColor;
  }
</style>





</div>


      </div>
    </form>

    <style>
  #resultScreen {
    font-size: 18px;       /* ØªÙƒØ¨ÙŠØ± Ø§Ù„Ø®Ø· Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ */
    font-weight: bold;     /* Ø¬Ø¹Ù„ Ø§Ù„Ø®Ø· Ø«Ù‚ÙŠÙ„ */
    direction: rtl;        /* Ù„ØªÙ†Ø§Ø³Ù‚ Ø§Ù„Ù†Øµ Ø§Ù„Ø¹Ø±Ø¨ÙŠ */
    font-family: "Arial", sans-serif;
    margin-top: 20px;
  }

  #resultScreen h3 {
    font-size: 20px;
    margin-bottom: 15px;
    color: #2c3e50;
  }

  #resultScreen table {
    width: 100%;
    border-collapse: collapse;
  }

  #resultScreen th,
  #resultScreen td {
    padding: 12px 16px;
    border: 1px solid #ccc;
    text-align: right;
    font-size: 22px;
  }

  #resultScreen th {
    background-color: #f4f6f8;
    color: #333;
  }
</style>

<div id="resultScreen">
  <h3>ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­:</h3>
  <table>
    <tr><th>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…</th><td id="resName"></td></tr>
    <tr><th>ğŸ“ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</th><td id="resPhone"></td></tr>
    <tr><th> ğŸ›ï¸  Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</th><td id="resEmail"></td></tr>
    <tr><th>ğŸ“ Ø§Ù„Ù…Ø¤Ù‡Ù„</th><td id="resQualification"></td></tr>
    <tr><th>ğŸ’¼ Ø§Ù„ÙˆØ¸ÙŠÙØ©</th><td id="resJob"></td></tr>
    <tr><th>ğŸ“š Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ±Ø©</th><td id="resCourse"></td></tr>
    <tr><th>â³ Ù…Ø¯Ø© Ø§Ù„Ø¯ÙˆØ±Ø©</th><td id="resDuration"></td></tr>
    <tr><th>ğŸ  Ø§Ù„Ø§Ù‚Ø§Ù…Ø©</th><td id="resType"></td></tr>
    <tr><th>ğŸ•’ ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th><td id="resDatetime"></td></tr>
  </table>
</div>




   <style>
  .buttons {
    display: flex;
    gap: 16px; /* Ø§Ù„Ù…Ø³Ø§ÙØ© Ø¨ÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
    justify-content: center;
    margin-top: 20px;
  }

  .buttons button {
    font-size: 18px;       /* ØªÙƒØ¨ÙŠØ± Ø­Ø¬Ù… Ø§Ù„Ø®Ø· */
    font-weight: bold;     /* Ø¬Ø¹Ù„ Ø§Ù„Ø®Ø· Ø«Ù‚ÙŠÙ„ */
    padding: 12px 20px;
    border: 1px solid #555;
    border-radius: 6px;
    background-color: #f8f9fa;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .buttons button:hover {
    background-color: #e2e6ea;
  }
</style>


<div class="buttons" id="actionButtons" style="display: none;">
   <button onclick="addNewTrainee()">ğŸ§‘â€ğŸ“ Ø¥Ø¶Ø§ÙØ© Ù…ØªØ¯Ø±Ø¨ Ø¬Ø¯ÙŠØ¯</button>
  <button onclick="printResult()">ğŸ–¨ï¸ Ø·Ø¨Ø§Ø¹Ø©</button>
</div>

    </div>

   

<style>
 #traineesTable {
  background-color: rgb(255, 255, 249); /* Ø®Ù„ÙÙŠØ© Ø¨Ù„ÙˆÙ† ÙØ§ØªØ­ */
  padding: 15px;                       /* Ù…Ø³Ø§ÙØ© Ø¯Ø§Ø®Ù„ÙŠØ© */
  border-radius: 15px;                 /* Ø­ÙˆØ§Ù Ù…Ø¯ÙˆØ±Ø© */
  border: 5px dotted #444;             /* Ø§Ù„Ø¥Ø·Ø§Ø± Ø§Ù„Ù…Ù†Ù‚Ø· */
}

  /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¯ÙŠÙ Ø¹Ø´Ø§Ù† ÙŠØ·Ù„Ø¹ Ù…Ø±ØªØ¨ */
  #traineesTable table {
    width: 100%;
    border-collapse: collapse;
    font-size: 18px;         /* Ø­Ø¬Ù… Ø§Ù„Ø®Ø· Ø§Ù„ÙƒØ¨ÙŠØ± */
    font-weight: bold;       /* ÙŠØ¬Ø¹Ù„ Ø§Ù„Ø®Ø· Ø«Ù‚ÙŠÙ„ */
  }

  #traineesTable th, #traineesTable td {
    border: 2px solid #ccc;
    padding: 10px;
    text-align: center;
  }

  #traineesTable th {
    background-color: #e0d8c3; /* Ù„ÙˆÙ† Ù…ØºØ§ÙŠØ± Ø´ÙˆÙŠ Ù…Ù†Ø§Ø³Ø¨ Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ¬ */
  }

 #traineesTable h3 {
    text-align: center;      /* ÙŠÙˆØ³Ù‘Ø· Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
    font-weight: bold;       /* ÙŠØ¬Ø¹Ù„ Ø§Ù„Ø®Ø· Ø«Ù‚ÙŠÙ„ */
    text-decoration: underline; /* ÙŠØ¶ÙŠÙ Ø®Ø· ØªØ­Øª Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
    margin-bottom: 15px;     /* Ù…Ø³Ø§Ø­Ø© ØªØ­Øª Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
    font-size: 28px;         /* Ø­Ø¬Ù… Ø§Ù„Ø®Ø· Ø§Ù„ÙƒØ¨ÙŠØ± */
  }

</style>



<div id="traineesTable">
  <h3>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ† Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†:</h3>
  <table id="allTrainees">
    <thead>
      <tr>
        <th>ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…</th>
        <th>ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ</th>
        <th>ğŸ›ï¸   Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©</th>
        <th>ğŸ“ Ø§Ù„Ù…Ø¤Ù‡Ù„</th>
        <th>ğŸ’¼ Ø§Ù„ÙˆØ¸ÙŠÙØ©</th>
        <th>ğŸ“š Ø§Ù„Ø¯ÙˆØ±Ø©</th>
        <th>â³ Ø§Ù„Ù…Ø¯Ø©</th>
        <th>ğŸ  Ø§Ù„Ø§Ù‚Ø§Ù…Ø©</th>
        <th>ğŸ•’ ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„</th>
        <th>ğŸ—‘ï¸ Ø¥Ø¬Ø±Ø§Ø¡</th> <!-- Ø²Ø± Ø§Ù„Ø­Ø°Ù -->
      </tr>
    </thead>
    <tbody></tbody>
  </table>
</div>







  <script>
  let db;

  function openDB() {
    const request = indexedDB.open("TraineeDB", 1);

    request.onupgradeneeded = function (e) {
      db = e.target.result;
      if (!db.objectStoreNames.contains("trainees")) {
        db.createObjectStore("trainees", { keyPath: "id", autoIncrement: true });
      }
    };

    request.onsuccess = function (e) {
      db = e.target.result;
      loadLatestData();
    };

    request.onerror = function () {
      alert("ÙØ´Ù„ ÙÙŠ ÙØªØ­ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª");
    };
  }

  function submitForm() {
    const now = new Date();
    const datetime = now.toLocaleString('ar-EG', {
      year: 'numeric',
      month: 'long',
      day: 'numeric',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit'
    });

    const data = {
      name: document.getElementById("name").value,
      phone: document.getElementById("phone").value,
      email: document.getElementById("email").value,
      qualification: document.getElementById("qualification").value,
      job: document.getElementById("job").value,
      course: document.getElementById("course").value,
      duration: document.getElementById("duration").value,
      type: document.getElementById("type").value,
      datetime: datetime
    };

    document.getElementById("actionButtons").style.display = "flex";


    const tx = db.transaction("trainees", "readwrite");
    const store = tx.objectStore("trainees");
    const req = store.add(data);

    req.onsuccess = () => showData(data);
    req.onerror = () => alert("Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸");
  }

  function showData(data) {
    document.getElementById("resName").innerText = data.name;
    document.getElementById("resPhone").innerText = data.phone;
    document.getElementById("resEmail").innerText = data.email;
    document.getElementById("resQualification").innerText = data.qualification;
    document.getElementById("resJob").innerText = data.job;
    document.getElementById("resCourse").innerText = data.course;
    document.getElementById("resDuration").innerText = data.duration;
    document.getElementById("resType").innerText = data.type;
    document.getElementById("resDatetime").innerText = data.datetime || '';
    document.getElementById("registrationForm").style.display = "none";
    document.getElementById("resultScreen").style.display = "block";
  }

  function loadLatestData() {
    const tx = db.transaction("trainees", "readonly");
    const store = tx.objectStore("trainees");
    const req = store.openCursor(null, 'prev');

    req.onsuccess = e => {
      const cursor = e.target.result;
      if (cursor) {
        const d = cursor.value;
        document.getElementById("name").value = d.name;
        document.getElementById("phone").value = d.phone;
        document.getElementById("email").value = d.email;
        document.getElementById("qualification").value = d.qualification;
        document.getElementById("job").value = d.job;
        document.getElementById("course").value = d.course;
        document.getElementById("duration").value = d.duration;
        document.getElementById("type").value = d.type;
      }
    }
  }

  function exportToExcel() {
  const tx = db.transaction("trainees", "readonly");
  const store = tx.objectStore("trainees");
  // Ø£Ø¶ÙØª Ø±Ù…ÙˆØ² (icons) Ø¨Ø³ÙŠØ·Ø© Ø¨Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ†
  const headers = [
    "ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…",
    "ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ",
    "ğŸ“§ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©",
    "ğŸ“ Ø§Ù„Ù…Ø¤Ù‡Ù„",
    "ğŸ’¼ Ø§Ù„ÙˆØ¸ÙŠÙØ©",
    "ğŸ“š Ø§Ù„Ø¯ÙˆØ±Ø©",
    "â³ Ø§Ù„Ù…Ø¯Ø©",
    "âš§ Ø§Ù„Ø§Ù‚Ø§Ù…Ø©",
    "ğŸ“… ØªØ§Ø±ÙŠØ® ÙˆÙˆÙ‚Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„"
  ];
  const rows = [headers];
  const allData = [];

  store.openCursor().onsuccess = function (e) {
    const cursor = e.target.result;
    if (cursor) {
      const d = cursor.value;
      allData.push([
        d.name,
        d.phone,
        d.email,
        d.qualification,
        d.job,
        d.course,
        d.duration,
        d.type,
        d.datetime || ""
      ]);
      cursor.continue();
    } else {
      const data = [...rows, ...allData];

      const ws = XLSX.utils.aoa_to_sheet(data);

      // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø®Ø· ÙˆØ­Ø¬Ù…Ù‡ (16) Ù…Ø¹ ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø¬Ø¯ÙˆÙ„
      const headerStyle = {
        font: { bold: true, sz: 16, color: { rgb: "FFFFFF" } },
        fill: { fgColor: { rgb: "4F81BD" } },
        alignment: { horizontal: "center", vertical: "center" },
        border: {
          top: { style: "thin", color: { auto: 1 } },
          bottom: { style: "thin", color: { auto: 1 } },
          left: { style: "thin", color: { auto: 1 } },
          right: { style: "thin", color: { auto: 1 } }
        }
      };

      const dataStyle = {
        font: { sz: 16 },
        alignment: { vertical: "center", wrapText: true },
        border: {
          top: { style: "thin", color: { auto: 1 } },
          bottom: { style: "thin", color: { auto: 1 } },
          left: { style: "thin", color: { auto: 1 } },
          right: { style: "thin", color: { auto: 1 } }
        }
      };

      const range = XLSX.utils.decode_range(ws["!ref"]);
      for (let R = range.s.r; R <= range.e.r; ++R) {
        for (let C = range.s.c; C <= range.e.c; ++C) {
          const cell_address = { c: C, r: R };
          const cell_ref = XLSX.utils.encode_cell(cell_address);
          if (!ws[cell_ref]) continue;
          ws[cell_ref].s = (R === 0) ? headerStyle : dataStyle;
        }
      }

      // Ø¶Ø¨Ø· Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø­Ø³Ø¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù…Ø¹ Ø­Ø¯ Ø£Ø¯Ù†Ù‰ 12 ÙˆØ­Ø¯ Ø£Ù‚ØµÙ‰ 40
      const colWidths = data[0].map((col, i) => {
        let maxLen = col.length;
        allData.forEach(row => {
          if (row[i] && row[i].length > maxLen) {
            maxLen = row[i].length;
          }
        });
        return { wch: Math.min(Math.max(maxLen + 4, 12), 40) };
      });
      ws['!cols'] = colWidths;

      const wb = XLSX.utils.book_new();
      XLSX.utils.book_append_sheet(wb, ws, "Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†");

      XLSX.writeFile(wb, "trainees.xlsx");
    }
  };

  store.openCursor().onerror = function(e) {
    alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„ØªØµØ¯ÙŠØ±.");
  };
}


  function clearIndexedDB() {
  // ÙØªØ­ Ù†Ø§ÙØ°Ø© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
  document.getElementById("passwordModal").style.display = "flex";
}

function confirmPassword() {
  const input = document.getElementById("passwordInput").value;
  if (input === "1611151amer") {
    const tx = db.transaction("trainees", "readwrite");
    tx.objectStore("trainees").clear().onsuccess = () => {
      alert("ØªÙ… Ù…Ø³Ø­ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.");
      location.reload();
    };
  } else {
    alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©.");
  }
  closePasswordModal();
}

function closePasswordModal() {
  document.getElementById("passwordModal").style.display = "none";
  document.getElementById("passwordInput").value = "";
}


  function toggleAllTrainees() {
  const traineesTable = document.getElementById("traineesTable");
  const tableHtml = traineesTable.innerHTML;

  // Ù‡Ù†Ø§ Ù†Ø¬ÙŠØ¨ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¨ÙˆÙƒØ³Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ©
  const statsBoxes = document.getElementById("statsBoxes");
  const statsHtml = statsBoxes ? statsBoxes.innerHTML : '';

  const printWindow = window.open('', '', 'width=900,height=600');

  const currentDate = new Date().toLocaleDateString('ar-EG', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });

  printWindow.document.write(`
    <html>
      <head>
        <title>Ø·Ø¨Ø§Ø¹Ø© Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</title>
        <style>
          body {
            font-family: 'Arial', sans-serif;
            direction: rtl;
            padding: 20px;
            background-color: #fff;
            color: #000;
          }
          header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 10px;
          }
          .logo-container {
            text-align: center;
          }
          .logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            display: block;
            margin: 0 auto;
          }
          .logo-caption {
            font-size: 12px;
            font-weight: bold;
            margin-top: 5px;
            text-align: center;
          }
          .header-info {
            flex-grow: 1;
            margin-right: 20px;
            text-align: center;
          }
          .center-title {
            font-size: 20px;
            font-weight: bold;
            margin: 10px 0 5px 0; /* ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø³ÙÙ„ÙŠØ© */
            border-bottom: 2px solid #000; /* Ø§Ù„Ø®Ø· Ø£Ø³ÙÙ„ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† */
            display: inline-block;
            padding-bottom: 5px;
          }
          .date {
            font-size: 14px;
            color: #333;
            text-align: left;
            margin-top: 10px;
          }
          /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¨ÙˆÙƒØ³Ø§Øª Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ© */
          #statsBoxes {
            margin-top: 15px;
            display: flex;
            gap: 15px;
            justify-content: center;
          }
          .stat-box {
            border: 2px solid #4F81BD;
            border-radius: 8px;
            padding: 10px 15px;
            font-weight: bold;
            font-size: 16px;
            background-color: #e7f0ff;
            color: #2a4d8f;
            min-width: 150px;
            text-align: center;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
          }
          table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px; /* Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø³Ø§ÙØ© Ø§Ù„Ø¹Ù„ÙˆÙŠØ© Ù„Ù„Ø¬Ø¯ÙˆÙ„ */
          }
          th, td {
            border: 1px solid #333;
            padding: 8px;
            text-align: center;
            font-size: 14px;
            font-weight: bold;
          }
          th {
            background-color: #f2f2f2;
          }
          button {
            display: none;
          }
          .signature {
            text-align: left;
            margin-top: 50px;
            font-family: 'Brush Script MT', cursive;
            font-size: 24px;
            color: #444;
            padding-left: 40px;
          }
        </style>
      </head>
      <body>
        <header>
          <div class="logo-container">
            <img src="logo.jpg" alt="Ø§Ù„Ø´Ø¹Ø§Ø±" class="logo">
            <div class="logo-caption">Ù…Ø±ÙƒØ² ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØµØ±Ù Ø¨Ø·Ù†Ø·Ø§</div>
          </div>
          <div class="header-info">
            <div class="center-title">Ø¬Ø¯ÙˆÙ„ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« Ù„Ù„Ù…ØªØ¯Ø±Ø¨ÙŠÙ†</div>
          </div>
          <div class="date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©: ${currentDate}</div>
        </header>

        <div id="statsBoxes">${statsHtml}</div>

        <table id="printTable">${tableHtml}</table>

      </body>
    </html>
  `);

  printWindow.document.close();
  printWindow.focus();

  setTimeout(() => {
    printWindow.print();
    printWindow.close();
  }, 300);
}




function deleteRecord(id) {
  if (confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¬Ù„ØŸ")) {
    const tx = db.transaction("trainees", "readwrite");
    const store = tx.objectStore("trainees");
    store.delete(id).onsuccess = () => {
      alert("ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³Ø¬Ù„.");
      searchTrainees() ;


    };
  }
}


function addNewTrainee() {
  document.getElementById("registrationForm").style.display = "block";
  document.getElementById("resultScreen").style.display = "none";
  document.getElementById("traineesTable").style.display = "none";
  document.getElementById("actionButtons").style.display = "none";

  // ØªØ¹Ø¨Ø¦Ø© Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø¢Ø®Ø± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©
  document.getElementById("name").value = document.getElementById("resName").textContent;
  document.getElementById("phone").value = document.getElementById("resPhone").textContent;
  document.getElementById("email").value = document.getElementById("resEmail").textContent;
  document.getElementById("qualification").value = document.getElementById("resQualification").textContent;
  document.getElementById("job").value = document.getElementById("resJob").textContent;
  document.getElementById("course").value = document.getElementById("resCourse").textContent;
  document.getElementById("duration").value = document.getElementById("resDuration").textContent;
  document.getElementById("type").value = document.getElementById("resType").textContent;
}



let showResults = false; // Ø­Ø§Ù„Ø© Ø§Ù„Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©

function searchTrainees() {
  const query = document.getElementById('searchInput').value.trim().toLowerCase();
  const tbody = document.querySelector("#allTrainees tbody");
  const tableContainer = document.getElementById("traineesTable");

  if (!showResults) {
    tbody.innerHTML = "";
    showResults = true;
  } else {
    tbody.innerHTML = "";
    tableContainer.style.display = 'none';
    const oldStats = document.getElementById("statsInfo");
    if (oldStats) oldStats.style.display = 'none';
    showResults = false;
    return;
  }

  let count = 0;
  const stats = {
    courses: {},
    dates: {},
    jobs: {},
    residencies: {},
    emails: {}
  };

  const tx = db.transaction("trainees", "readonly");
  const store = tx.objectStore("trainees");

  tbody.innerHTML = ""; // Ù†Ø¸Ù Ø§Ù„ØªØ§Ø¨Ù„ Ù‚Ø¨Ù„ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ø¹Ø±Ø¶

  // Ø¬Ù…Ø¹ ÙƒÙ„ Ø§Ù„Ø³Ø¬Ù„Ø§Øª ÙÙŠ Ù…ØµÙÙˆÙØ© Ø£ÙˆÙ„Ø§Ù‹
const allRecords = [];

store.openCursor().onsuccess = function (e) {
  const cursor = e.target.result;
  if (cursor) {
    allRecords.push({ key: cursor.key, value: cursor.value });
    cursor.continue();
  } else {
    // Ø§Ù„ØªØ±ØªÙŠØ¨ Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® Ù…Ù† Ø§Ù„Ø£Ø­Ø¯Ø« Ù„Ù„Ø£Ù‚Ø¯Ù…
   allRecords.sort((a, b) => {
  const dateA = parseArabicDate(a.value.datetime);
  const dateB = parseArabicDate(b.value.datetime);
  return dateB - dateA; // Ø§Ù„Ø£Ø­Ø¯Ø« Ø£ÙˆÙ„Ø§Ù‹
});



    const oldStats = document.getElementById("statsInfo");
    if (oldStats) oldStats.remove();

    allRecords.forEach(({ key, value: d }) => {
      const combined = (
        d.name + " " + d.phone + " " + d.email + " " +
        d.qualification + " " + d.job + " " + d.course + " " +
        d.duration + " " + d.type + " " + (d.datetime || "")
      ).toLowerCase();

      if (!query || combined.includes(query)) {
        count++;

        let residency = "ØºÙŠØ± Ù…Ù‚ÙŠÙ…";
        const typeValue = d.type ? d.type.trim() : "";
        if (typeValue === "Ù…Ù‚ÙŠÙ…") {
          residency = "Ù…Ù‚ÙŠÙ…";
        }

        stats.courses[d.course] = (stats.courses[d.course] || 0) + 1;
        const durationVal = d.duration || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯Ø©";
        stats.dates[durationVal] = (stats.dates[durationVal] || 0) + 1;
        stats.jobs[d.job] = (stats.jobs[d.job] || 0) + 1;
        stats.residencies[residency] = (stats.residencies[residency] || 0) + 1;
        const dept = d.email || "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
        stats.emails[dept] = (stats.emails[dept] || 0) + 1;

        const row = document.createElement("tr");

        const fields = ["name", "phone", "email", "qualification", "job", "course", "duration", "type", "datetime"];
        fields.forEach(field => {
          const cell = document.createElement("td");
          cell.textContent = d[field] || "";
          cell.contentEditable = "true";
          cell.dataset.key = key;
          cell.dataset.field = field;

          cell.addEventListener("blur", function () {
            const key = Number(this.dataset.key);
            const field = this.dataset.field;
            const newValue = this.textContent.trim();

            const txUpdate = db.transaction("trainees", "readwrite");
            const storeUpdate = txUpdate.objectStore("trainees");
            const getRequest = storeUpdate.get(key);

            getRequest.onsuccess = function () {
              const data = getRequest.result;
              if (data && field in data) {
                data[field] = newValue;
                const updateRequest = storeUpdate.put(data);

                updateRequest.onsuccess = () => {
                  console.log(`ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¬Ù„ Ù…Ø¹ Ø§Ù„Ù…ÙØªØ§Ø­ ${key} Ø¨Ù†Ø¬Ø§Ø­`);
                };
                updateRequest.onerror = (event) => {
                  console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³Ø¬Ù„:", event.target.error);
                };
              }
            };

            getRequest.onerror = function (event) {
              console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø³Ø¬Ù„:", event.target.error);
            };
          });

          row.appendChild(cell);
        });

        const deleteCell = document.createElement("td");
        const deleteBtn = document.createElement("button");
        deleteBtn.textContent = "ğŸ—‘ Ø­Ø°Ù";
        deleteBtn.onclick = () => deleteRecord(key);
        deleteCell.appendChild(deleteBtn);
        row.appendChild(deleteCell);

        tbody.appendChild(row);
      }
    });

    if (count === 0) {
      tbody.innerHTML = `<tr><td colspan="10" style="text-align:center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø·Ø§Ø¨Ù‚Ø©</td></tr>`;
      tableContainer.style.display = 'none';
      return;
    }

   
      const statsDiv = document.createElement("div");
      statsDiv.id = "statsInfo";
      statsDiv.style.display = "flex";
      statsDiv.style.flexWrap = "nowrap";
      statsDiv.style.gap = "12px";
      statsDiv.style.margin = "10px 0";
      statsDiv.style.direction = "rtl";
      statsDiv.style.justifyContent = "space-between";

      const createCard = (title, icon, content, bgColor) => {
  const card = document.createElement("div");
  card.style.display = "flex";
  card.style.flexDirection = "column";
  card.style.justifyContent = "center";
  card.style.alignItems = "center";
  card.style.padding = "14px 16px";
  card.style.borderRadius = "10px";
  card.style.backgroundColor = bgColor;
  card.style.color = "#fff";
  card.style.boxShadow = "0 4px 8px rgba(0,0,0,0.15)";
  card.style.fontFamily = "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif";
  card.style.fontSize = "16px";
  card.style.fontWeight = "bold";
  card.style.wordBreak = "break-word";
  card.style.textAlign = "center";
  card.style.width = "fit-content";
  card.style.minWidth = "140px";
  card.style.maxWidth = "260px";
  card.style.height = "180px"; // ğŸ‘ˆ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø·ÙˆÙ„ Ø§Ù„Ø±Ø£Ø³ÙŠ Ù„Ù„Ø¨ÙˆÙƒØ³
  card.style.overflowY = "auto"; // ğŸ‘ˆ Ø¸Ù‡ÙˆØ± Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø§Ù„Ø¹Ù…ÙˆØ¯ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©

  // Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ÙƒØ§Ø±Ø¯ Ø¯Ø§Ø®Ù„ Ø­Ø§ÙˆÙŠØ© ØªØªØ­ÙƒÙ… ÙÙŠ overflow
  card.innerHTML = `
    <div style="margin-bottom:10px; white-space: nowrap;">${icon} ${title}</div>
    <div style="line-height:1.6; overflow-y: auto;">${content}</div>
  `;
  return card;
};


      const formatList = (obj) => {
        const entries = Object.entries(obj);
        return entries.map(([key, val], index) => {
          const suffix = (index === entries.length - 1) ? "" : " - ";
          return `<span>${key}: ${val}${suffix}</span>`;
        }).join("");
      };

      statsDiv.appendChild(createCard("Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø¬Ù„Ø§Øª", "ğŸ“Š", count, "#4caf50"));
      statsDiv.appendChild(createCard("Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙˆØ±Ø©", "ğŸ“", formatList(stats.courses), "#2196f3"));
      statsDiv.appendChild(createCard(" Ø­Ø³Ø¨ Ø§Ù†Ø¹Ù‚Ø§Ø¯ Ø§Ù„Ø¯ÙˆØ±Ø©", "â³", formatList(stats.dates), "#ff9800"));
      statsDiv.appendChild(createCard("Ø­Ø³Ø¨ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ", "ğŸ¢", formatList(stats.emails), "#009688"));
      statsDiv.appendChild(createCard("Ø­Ø³Ø¨ Ø§Ù„ÙˆØ¸ÙŠÙØ©", "ğŸ’¼", formatList(stats.jobs), "#9c27b0"));
      statsDiv.appendChild(createCard("Ø­Ø³Ø¨ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©", "ğŸ ", formatList(stats.residencies), "#f44336"));

      tableContainer.parentNode.insertBefore(statsDiv, tableContainer);
      tableContainer.style.display = 'block';
    }
  };
}


function printResult() {
  const printContents = document.getElementById("resultScreen").innerHTML;
  const originalContents = document.body.innerHTML;

  document.body.innerHTML = printContents;
  window.print();
  document.body.innerHTML = originalContents;
  location.reload(); // ÙŠØ¹ÙŠØ¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©
}




function toggleForm() {
    var form = document.getElementById("registrationForm");
    if (form.style.display === "none" || form.style.display === "") {
      form.style.display = "block";
    } else {
      form.style.display = "none";
    }
  }


  function backupIndexedDB() {
  const tx = db.transaction("trainees", "readonly");
  const store = tx.objectStore("trainees");
  const allData = [];

  store.openCursor().onsuccess = function (e) {
    const cursor = e.target.result;
    if (cursor) {
      allData.push(cursor.value);
      cursor.continue();
    } else {
      const json = JSON.stringify(allData, null, 2);
      const blob = new Blob([json], { type: "application/json" });
      const url = URL.createObjectURL(blob);

      const a = document.createElement("a");
      a.href = url;
      a.download = "trainees_backup.json";
      a.click();
      URL.revokeObjectURL(url);
    }
  };
}

function restoreIndexedDB(event) {
  const file = event.target.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = function (e) {
    try {
      const data = JSON.parse(e.target.result);
      const tx = db.transaction("trainees", "readwrite");
      const store = tx.objectStore("trainees");

      data.forEach(item => {
        store.put(item);
      });

      tx.oncomplete = () => {
        alert("Database restored successfully.");
        location.reload();
      };
    } catch (err) {
      alert("Error restoring data. Make sure it's a valid JSON backup.");
      console.error(err);
    }
  };
  reader.readAsText(file);
}



function parseArabicDate(arabicDate) {
  if (!arabicDate) return new Date(0); // ØªØ§Ø±ÙŠØ® Ù‚Ø¯ÙŠÙ… Ø¬Ø¯Ù‹Ø§ Ù„Ùˆ Ù…Ø´ Ù…ÙˆØ¬ÙˆØ¯

  try {
    // Ø­ÙˆÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¥Ù„Ù‰ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©
    const westernDigits = arabicDate.replace(/[Ù -Ù©]/g, d => "Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©".indexOf(d));

    // Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª
    const dateTimeParts = westernDigits.split(" ÙÙŠ ");
    if (dateTimeParts.length !== 2) return new Date(0);

    const [dayMonthYear, timePart] = dateTimeParts;

    // ØªØ±Ø¬Ù… Ø§Ù„Ø´Ù‡Ø±
    const months = {
      "ÙŠÙ†Ø§ÙŠØ±": "01",
      "ÙØ¨Ø±Ø§ÙŠØ±": "02",
      "Ù…Ø§Ø±Ø³": "03",
      "Ø£Ø¨Ø±ÙŠÙ„": "04",
      "Ù…Ø§ÙŠÙˆ": "05",
      "ÙŠÙˆÙ†ÙŠÙˆ": "06",
      "ÙŠÙˆÙ„ÙŠÙˆ": "07",
      "Ø£ØºØ³Ø·Ø³": "08",
      "Ø³Ø¨ØªÙ…Ø¨Ø±": "09",
      "Ø£ÙƒØªÙˆØ¨Ø±": "10",
      "Ù†ÙˆÙÙ…Ø¨Ø±": "11",
      "Ø¯ÙŠØ³Ù…Ø¨Ø±": "12"
    };

    const dayMonthYearMatch = dayMonthYear.match(/(\d{1,2}) (\S+) (\d{4})/);
    if (!dayMonthYearMatch) return new Date(0);

    const day = dayMonthYearMatch[1].padStart(2, '0');
    const month = months[dayMonthYearMatch[2]] || "01";
    const year = dayMonthYearMatch[3];

    // Ø§Ù„ÙˆÙ‚Øª Ù Ù¡:Ù¤Ù©:Ù¥Ù¢ Øµ Ø£Ùˆ Ù…
    let time = timePart.trim();
    let isPM = time.includes("Ù…");
    let timeDigits = time.replace(/[^\d:]/g, "");
    let [hh, mm, ss] = timeDigits.split(":").map(v => parseInt(v));
    if (isPM && hh < 12) hh += 12;
    if (!isPM && hh === 12) hh = 0;

    const isoString = `${year}-${month}-${day}T${String(hh).padStart(2, '0')}:${String(mm).padStart(2, '0')}:${String(ss).padStart(2, '0')}`;

    return new Date(isoString);
  } catch (e) {
    return new Date(0);
  }
}



  window.onload = openDB;
</script>
</body>
</html>
